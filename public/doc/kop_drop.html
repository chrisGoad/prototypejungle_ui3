{{boilerplate_kop}}
<div>
<p><a style="color:white" href="kop_general.html">General Considerations</a></p>

<p class="title">Drops</p>

<p> The main image generator, <span class="textVar">generateDrops(params:Object)</span>,  calls the user defined JavaScript method <span class="textVar">generateDrop(p:Point)</span> repeatedly on randomly selected points  on the canvas.  <span class="textVar">generateDrop</span> returns a structure  of the form </p>

<p class="textVar">{geometries:arrayOf(GeometricObject), shapes:arrayOf(Shape)}</p> <p>or <span class="textVar">null</span> if no shape is to be displayed at the given point. The shapes constitute the visible form of the geometric objects. The image generator checks whether any of the geometries in the current drop collide with any of the geometries already dropped. If so the drop is rejected. If not the geometries are added to the array of all geometries dropped so far, and the shapes are added to the visible world.The reason that geometries and shapes are generated separately is that it allows the coder full control of how the geometries are made visible. 
</p>
</div>
</div>
</body>
</html>



